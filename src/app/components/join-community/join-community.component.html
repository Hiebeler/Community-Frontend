<ng-container *transloco="let t; prefix: 'onboarding.joinOrCreateCommunity'">
  <form [formGroup]="searchForm" (ngSubmit)="onSubmit()" class="space-y-3">
    <div class="flex">
      <div class="flex flex-col w-full">
        <label for="search">{{t('joinCode')}}</label>
        <input type="text" class="w-full" id="search" autocomplete="off" formControlName="search" [placeholder]="t('joinCodePlaceholder')">
      </div>
    </div>
    <app-primary-button [isLoading]="loading" [disabled]="searchForm.invalid" type="submit"
      [label]="t('search')"></app-primary-button>
  </form>

  @if(didntFoundCommunity) {
  <div class="flex justify-center py-4">
    <div class="text-center text-red-600">
      <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-8 w-8 text-red-600" fill="none" viewBox="0 0 24 24"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M12 9v2m0 4h.01m-.01-10a9 9 0 110 18 9 9 0 010-18z" />
      </svg>
      <p>{{t('noCommunityFound')}}</p>
    </div>
  </div>
  }

  @if(foundCommunity) {
  <div class="card mt-3">
    <h2 class="text-lg font-semibold mb-4">{{ foundCommunity.name }}</h2>
    <div class="flex items-center mb-5">
      <span class="mr-3">{{t('admin')}}:</span>
      <img [src]="foundCommunity.admin.avatar" class="w-8 h-8 rounded-full mr-2" alt="">
      <span class="font-bold">{{ foundCommunity.admin.name }}</span>
    </div>

    <app-primary-button [isLoading]="isLoadingRequest" (clicked)="join()"
      [label]="t('sendJoinRequest')"></app-primary-button>
  </div>
  }
</ng-container>