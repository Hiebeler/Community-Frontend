<app-navbar title="Verlauf">
  <button left type="button" class="btn-small btn-neutral" (click)="gotoDebts()">
    <lucide-icon [img]="backIcon"></lucide-icon>
  </button>
</app-navbar>

<!-- Debt History -->
<div class="space-y-4">
  @for (debt of debts; track debt) {
  <div class="card">

    <!-- Date Row -->
    <div class="flex items-center justify-between mb-4">
      <p class="text-sm text-gray-400">
        {{debt.timestamp.toLocaleDateString('de-AT', { year: 'numeric', month: 'short', day: 'numeric' })}}
      </p>

      @if (debt.creditor.id === currentUser?.id) {
      <lucide-icon [img]="stinksIcon" class="text-red-500"></lucide-icon>
      }
      @if (debt.creditor.id !== currentUser?.id) {
      <lucide-icon [img]="stonksIcon" class="text-green-400"></lucide-icon>
      }
    </div>

    <!-- Body Row -->
    <div class="flex justify-around items-center">
      <!-- Left Col -->
      <div class="flex flex-col items-center">
        <p class="text-base">{{debt.name}}</p>
        <p class="text-2xl font-bold">{{debt.amount}} â‚¬</p>
      </div>

      <!-- Right Col -->
      <div class="flex flex-col items-center">
        <p class="text-base m-0">{{debt.creditor.name}}</p>
        <lucide-icon [img]="arrowDown"></lucide-icon>
        <p class="text-base m-0">{{debt.debitor.name}}</p>
      </div>
    </div>

  </div>
  }
</div>
